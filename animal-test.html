<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <!-- Clarity tracking code -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "v67yf51uf9");
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4PDJNMHL3E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4PDJNMHL3E');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-3768904182572211">
    <meta name="description" content="AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ - ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´ ê°•ì•„ì§€ìƒì¸ì§€ ê³ ì–‘ì´ìƒì¸ì§€ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤. ì¬ë¯¸ìˆëŠ” ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸!">
    <meta name="keywords" content="ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸, ê°•ì•„ì§€ìƒ, ê³ ì–‘ì´ìƒ, AI í…ŒìŠ¤íŠ¸, ê´€ìƒ í…ŒìŠ¤íŠ¸">
    <title>ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ - ê°•ì•„ì§€ìƒ vs ê³ ì–‘ì´ìƒ</title>
    <link rel="stylesheet" href="style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3768904182572211" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
</head>
<body>
    <button id="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>
    <a href="./en/animal-test.html" class="lang-switch">ğŸ‡ºğŸ‡¸ English</a>

    <nav class="main-nav">
        <a href="./index.html">ğŸ½ï¸ ë©”ë‰´ì¶”ì²œ</a>
        <a href="./animal-test.html" class="active">ğŸ¶ ë™ë¬¼ìƒ</a>
        <a href="./about.html">ğŸ“– ì†Œê°œ</a>
        <a href="./contact.html">ğŸ“§ ë¬¸ì˜</a>
    </nav>

    <div class="container animal-test-container" style="margin-top: 100px;">
        <h1>ğŸ¶ğŸ± ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸</h1>
        <p class="subtitle">ë‹¹ì‹ ì€ ê°•ì•„ì§€ìƒ? ê³ ì–‘ì´ìƒ?</p>

        <div id="image-container">
            <div id="upload-placeholder">
                <span>ğŸ“·</span>
                <p>ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>
            </div>
            <img id="preview-image" style="display: none;" />
        </div>

        <div id="result-container" class="result-container" style="display: none;">
            <div id="result-emoji" class="result-emoji"></div>
            <div id="result-text" class="result-text"></div>
            <div id="result-description" class="result-description"></div>
        </div>

        <div id="label-container" class="label-container"></div>

        <input type="file" id="file-input" accept="image/*" style="display: none;" onchange="handleFileSelect(event)">
        <button id="upload-btn" onclick="document.getElementById('file-input').click()">ì‚¬ì§„ ì„ íƒí•˜ê¸°</button>
        <button id="analyze-btn" onclick="analyze()" style="display: none;">ë¶„ì„í•˜ê¸°</button>
        <button id="retry-btn" onclick="retry()" style="display: none;">ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="container content-container" style="margin-top: 40px; text-align: center;">
        <h2>ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ë€?</h2>
        <div class="content-section">
            <p style="text-align: center;">AIê°€ ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë¶„ì„í•˜ì—¬ ê°•ì•„ì§€ìƒì¸ì§€ ê³ ì–‘ì´ìƒì¸ì§€ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤!</p>
            <ul class="feature-list">
                <li><strong>ê°•ì•„ì§€ìƒ:</strong> ì¹œê·¼í•˜ê³  í™œë°œí•œ ì¸ìƒ, ë‹¤ì •í•œ ëˆˆë§¤</li>
                <li><strong>ê³ ì–‘ì´ìƒ:</strong> ë„ë„í•˜ê³  ì‹ ë¹„ë¡œìš´ ì¸ìƒ, ë‚ ì¹´ë¡œìš´ ì´ëª©êµ¬ë¹„</li>
                <li>Google Teachable Machine AI ê¸°ë°˜ ë¶„ì„</li>
                <li>ì—…ë¡œë“œëœ ì‚¬ì§„ì€ ì„œë²„ì— ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
            </ul>
        </div>
    </div>

    <footer class="main-footer">
        <div class="footer-links">
            <a href="./index.html">í™ˆ</a>
            <a href="./about.html">ì†Œê°œ</a>
            <a href="./contact.html">ë¬¸ì˜í•˜ê¸°</a>
            <a href="./privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            <a href="./terms.html">ì´ìš©ì•½ê´€</a>
        </div>
        <p class="copyright">Â© 2025 ì˜¤ëŠ˜ ë­ ë¨¹ì§€? All rights reserved.</p>
    </footer>

    <script>
        const URL = "https://teachablemachine.withgoogle.com/models/aWHbbmkoJ/";
        let model, maxPredictions;
        let imageLoaded = false;

        const themeToggle = document.getElementById('theme-toggle');
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        themeToggle.textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeToggle.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        });

        async function loadModel() {
            const modelURL = URL + "model.json";
            const metadataURL = URL + "metadata.json";
            model = await tmImage.load(modelURL, metadataURL);
            maxPredictions = model.getTotalClasses();
        }

        loadModel();

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('preview-image');
                preview.src = e.target.result;
                preview.style.display = 'block';
                document.getElementById('upload-placeholder').style.display = 'none';
                document.getElementById('upload-btn').style.display = 'none';
                document.getElementById('analyze-btn').style.display = 'inline-block';
                document.getElementById('result-container').style.display = 'none';
                document.getElementById('label-container').innerHTML = '';
                imageLoaded = true;
            };
            reader.readAsDataURL(file);
        }

        async function analyze() {
            if (!model) {
                alert('ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                return;
            }

            const image = document.getElementById('preview-image');
            const prediction = await model.predict(image);

            const labelContainer = document.getElementById('label-container');
            labelContainer.innerHTML = '';

            let maxProb = 0;
            let resultClass = '';

            for (let i = 0; i < maxPredictions; i++) {
                const percent = (prediction[i].probability * 100).toFixed(0);
                const className = prediction[i].className;
                const emoji = className.toLowerCase().includes('dog') || className === 'ê°•ì•„ì§€' ? 'ğŸ¶' : 'ğŸ±';

                const div = document.createElement('div');
                div.className = 'prediction-bar';
                div.innerHTML = `
                    <span class="label-name">${emoji} ${className}</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: ${percent}%"></div>
                    </div>
                    <span class="label-percent">${percent}%</span>
                `;
                labelContainer.appendChild(div);

                if (prediction[i].probability > maxProb) {
                    maxProb = prediction[i].probability;
                    resultClass = className;
                }
            }

            const isDog = resultClass.toLowerCase().includes('dog') || resultClass === 'ê°•ì•„ì§€';
            const percent = (maxProb * 100).toFixed(0);

            document.getElementById('result-emoji').textContent = isDog ? 'ğŸ¶' : 'ğŸ±';
            document.getElementById('result-text').textContent = isDog ? 'ê°•ì•„ì§€ìƒ' : 'ê³ ì–‘ì´ìƒ';
            document.getElementById('result-description').innerHTML = isDog
                ? `<strong>${percent}%</strong> í™•ë¥ ë¡œ ê°•ì•„ì§€ìƒ!<br>ì¹œê·¼í•˜ê³  í™œë°œí•œ ë§¤ë ¥ì˜ ì†Œìœ ì`
                : `<strong>${percent}%</strong> í™•ë¥ ë¡œ ê³ ì–‘ì´ìƒ!<br>ë„ë„í•˜ê³  ì‹ ë¹„ë¡œìš´ ë§¤ë ¥ì˜ ì†Œìœ ì`;

            document.getElementById('result-container').style.display = 'block';
            document.getElementById('analyze-btn').style.display = 'none';
            document.getElementById('retry-btn').style.display = 'inline-block';
        }

        function retry() {
            document.getElementById('file-input').value = '';
            document.getElementById('preview-image').style.display = 'none';
            document.getElementById('upload-placeholder').style.display = 'flex';
            document.getElementById('result-container').style.display = 'none';
            document.getElementById('label-container').innerHTML = '';
            document.getElementById('retry-btn').style.display = 'none';
            document.getElementById('analyze-btn').style.display = 'none';
            document.getElementById('upload-btn').style.display = 'inline-block';
            imageLoaded = false;
        }
    </script>
</body>
</html>
